<!DOCTYPE html>
<html lang = "en-US">
<head>
  <meta charset="UTF-8">
  <title>Switches!</title>
  <link rel="stylesheet" type="text/css" href="styles/switches.css">
</head>
<!-- <body onload="MyGame.screenManager.initialize();"> -->
<body>
  <div id="game">
    <div id="main-menu" class="screen">
      <h1 id="title">Switches!</h1>
      <ul class="menu">
        <!-- <li><button id="level-select-button">Level Select</button></li> -->
        <li><button id="start-test-button">Start Test</button></li>
      </ul>
    </div>
    <div id="gameplay" class="screen">
      <canvas id="canvas" height="700px" width="700px"></canvas>
    </div>
    <!-- <div id="level-select" class="screen">
      <h1>Level Select</h1>
      <ul class="menu" id="level-select-menu">
        <li><button id="level-select-back-button">Main Menu</button></li>
      </ul>
    </div> -->
  </div>

  <script>
    let MyGame = {
      screens: {},
      components: {},
      systems: {},
      render: {},
      constants: {},
      assets: {},
      levels: {},
      utils: {},
      pubsub: {
        subscribers: {},
        publish(event, data) {
          if (!subscribers[event]) return;
          subscribers[event].forEach(subscriberCallback => subscriberCallback(data));
        },
        subscribe(event, callback) {
          if (!subscribers[event]) {
            subscribers[event] = [];
          }
          let index = subscribers[event].push(callback) - 1;
          return {
            unsubscribe() {
              subscribers[event].splice(index, 1);
            }
          };
        },
      } 
    }
  </script>

  <script data-main = "scripts/loader" src = "scripts/require.js"></script>

</body>
</html>